<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>爱租哪</title>
    <link rel="stylesheet" href="css/365rent.css">
    <link rel="stylesheet" href="css/public.css">
    <link rel="stylesheet" href="font/iconfont.css">
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo"><img src="image/logo.png" width="100%" alt=""></div>
            <div class="district">南京<span>&#xe641;</span></div>
            <div class="district-list"></div>
            <ul class="menu">
                <li class="list">首页</li>
                <li class="list">爱租找房</li>
                <li class="list">地图找房</li>
                <li class="list">爱租金融</li>
            </ul>
            <ul class="login">
                <li>用户登录</li>
                <li>|</li>
                <li>公寓登录</li>
                <li><span>&#xe6c6;</span>手机爱租</li>
            </ul>
        </div>
    </div>
    <div class="content">
        <ul class="location">
            <li>您的当前位置：</li>
            <li>爱租哪</li>
            <li>></li>
            <li>个人中心</li>
            <li>></li>
            <li>发布房源</li>
        </ul>
        <ul class="content-left">
            <li>账户管理</li>
            <li>个人资料</li>
            <li>修改密码</li>
            <li>手机修改</li>
            <li>我的收藏</li>
            <li>收藏房源</li>
            <li>我的条件</li>
            <li>我的发布</li>
            <li>发布房源</li>
            <li>已发布房源</li>
        </ul>
        <div class="content-right">
            <div class="basic-information">基本信息</div>
            <div class="information-content">
                <div class="community">
                    <span class="title"><span class="star">&#xe680;</span>小区名称：</span>
                    <input type="text" placeholder="请输入小区名称" class="community-name">
                    <span class="check"></span>
                    <br>
                    <ul class="community-thinking">
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                        <li class="community-thinking-list"></li>
                    </ul>
                    &nbsp;&nbsp;&nbsp;&nbsp;<input type="button" class="search" value="地图找房"><span class="button-icon">&#xe641;</span>
                    <br>
                    <div class="map-outline"></div>
                </div>
                 <div class="region">
                    <span class="title"><span class="star">&#xe680;</span>区属板块：</span>
                    <select class="region-list">
                        <option>请选择区属</option>
                        <option>鼓楼区</option>
                        <option>玄武区</option>
                        <option>雨花台区</option>
                        <option>建邺区</option>
                        <option>秦淮区</option>
                        <option>江宁区</option>
                        <option>栖霞区</option>
                        <option>六合区</option>
                        <option>浦口区</option>
                        <option>溧水区</option>
                        <option>高淳区</option>
                        <option>其它</option>
                    </select>
                    <select class="region-plate">
                        <option>请选择板块</option>
                        <option>城南</option>
                        <option>城北</option>
                        <option>城中</option>
                        <option>江宁</option>
                        <option>河西</option>
                        <option>江北</option>
                        <option>仙林</option>
                    </select>
                    <span class="check"></span> 
                 </div>
                 <div class="size">
                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="title"><span class="star">&#xe680;</span>户型：</span>
                     <input type="text" class="size-list">&nbsp;<span class="size-item">室</span>
                     <input type="text" class="size-list">&nbsp;<span class="size-item">厅</span>
                     <input type="text" class="size-list">&nbsp;<span class="size-item">卫</span>
                     <input type="text" class="size-list">&nbsp;<span class="size-item">阳台</span>
                     <span class="check"></span>
                 </div>
                 <div class="renting">
                     <span class="title"><span class="star">&#xe680;</span>出租形式：</span>
                     <input type="radio">&nbsp;
                     <span class="renting-style">整租</span>
                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                     <input type="radio" checked="checked">&nbsp;<span class="renting-style">合租</span>&nbsp;&nbsp;
                     <select class="renting-br">
                         <option>选择卧室内容</option>
                         <option>席梦思床 空调 衣柜 桌凳</option>
                         <option>席梦思床 空调 衣柜</option>
                     </select>
                     &nbsp;&nbsp;&nbsp;&nbsp;
                     <select class="renting-limit">
                         <option>选择限制条件</option>
                         <option>主卧阳台房</option>
                         <option>次卧</option>
                         <option>主卧</option>
                     </select>
                     <span class="check"></span>
                 </div>
                 <div class="area">
                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="title"><span class="star">&#xe680;</span>面积：</span>
                     <div class="area-content">
                         <input type="text" placeholder="请输入面积" class="area-input">
                         <span class="area-unit">平方米</span>&nbsp;
                     </div>
                     <span class="check"></span>
                 </div>
                 <div class="rent">
                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="title"><span class="star">&#xe680;</span>租金：</span>
                     <div class="rent-content">
                         <input type="text" placeholder="请输入租金" class="rent-input">&nbsp;
                         <span class="rent-unit">元/月</span>&nbsp;
                     </div>
                     <span class="check"></span>
                 </div>
                 <div class="pay">
                     <span class="title"><span class="star">&#xe680;</span>付款方式：</span>
                     <input type="checkbox" class="pay-list">&nbsp;<span class="pay-item">月付</span>
                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                     <input type="checkbox" class="pay-list">&nbsp;<span class="pay-item">季付</span>
                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                     <input type="checkbox" class="pay-list">&nbsp;<span class="pay-item">半年付</span>
                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                     <input type="checkbox" class="pay-list">&nbsp;<span class="pay-item">年付</span>
                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                     <input type="checkbox" class="pay-list">&nbsp;<span class="pay-item">都可以</span>
                 </div>
                 <div class="phone">                      
                    <span class="title"><span class="star">&#xe680;</span>手机号码：</span>
                    <input type="text" class="phone-input">
                    <span class="check"></span>
                 </div>
                 <div class="summary">
                     <span class="title"><span class="star">&#xe680;</span>需求汇总：</span>
                     <div class="summary-content">
                         <span>小区名称：</span><span class="summary-community"></span>
                         <br>
                         <span>区属板块：</span><span class="summary-list"></span>&nbsp;<span class="summary-plate"></span>
                         <br>
                         <span>户型：</span>
                         <span class="summary-size"></span><span>室</span>
                         <span class="summary-size"></span><span>厅</span>
                         <span class="summary-size"></span><span>卫</span>
                         <span class="summary-size"></span><span>阳台</span>
                         <br>
                         <span>出租形式：</span>
                         <span class="summary-renting-style"></span>
                         <span class="summary-renting-input"></span>
                         <span>卧室内容：</span><span class="summary-renting-select1"></span>
                         <span>限制条件：</span><span class="summary-renting-select2"></span>
                         <br>
                         <span>面积：</span>
                         <span class="summary-area"></span>
                         <span>平方米</span>
                         <br>
                         <span>租金：</span>
                         <span class="summary-rent"></span>
                         <span>元/月</span>
                         <br>
                         <span>付款方式：</span>
                         <span class="summary-pay"></span>
                         <br>
                         <span>手机号码：</span>
                         <span class="summary-phone"></span>
                     </div>
                 </div>
                 <div class="upload">
                    <span class="title"><span class="star">&#xe680;</span>上传图片：</span>
                     <div class="upload-button">
                             <input type="button" class="cross" value="+">
                     </div>
                     <div class="upload-content">
                         <div class="upload-close">X</div>
                     </div>
                 </div>
                 <div class="submit">
                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="title"><span class="star">&#xe680;</span>提交：</span>
                     <form action="http://www.baidu.com">
                         <input type="submit" value="点击提交">
                     </form>
                 </div>
                 <input type="button" class="next" value="下一步">
            </div>
        </div>
    </div>
</body>
</html>
<script src="js/jquery.min.js" ></script>
<script>
    $(function(){
        var click_status=false;
        var community_name=[];
        var EP_Chinese=/[\u4e00-\u9fa5]/;
        var extension="";
        var val;
        var name_list="";
        var list_val=null;
        var plate_val=null; 
        var EP_size=/^[0-9]*$/;
        var count1=0,count2=0,count3=0;
        var summary_ind=0;
        var renting_ind=0;
        var br_val=null;
        var limit_val=null;
        var rent_ind=0;
        var EP_phone=/^1[34578]\d{9}$/;
        $(".district").on("mouseover",function(){
            $(".district span").html("&#xe663;")
        }).on("mouseleave",function(){
            $(".district span").html("&#xe641;")
        })
        
        //Map
        $(".search").on("click",function(){
            if(click_status==false){
              $(".map-outline").slideDown();
              $("span.button-icon").html("&#xe663;");
                click_status=true;
            }else{
              $(".map-outline").slideUp();
              $("span.button-icon").html("&#xe641;");
                click_status=false;  
            }
        })
        
        //fuzzy searching
        function Fuzzy_matching(){
            
        }
        $(".community-thinking").hide();
        community_name=[
            "城市花园","碧桂园欧洲城","碧桂园凤凰城","仙林悦城","恒大雅苑","恒大金碧天下","上怡新村","翠屏城","桥北新村","盛江花苑兰花园","永安花苑","香溢紫郡","保利中央公园","荣盛莉湖春晓","天润城第十二街区","丁家庄","冠城大通蓝郡"
        ]
        $(".community-name").bind("input propertychange",function(){
            val=$(".community-name").val();
            if(!EP_Chinese.test(val)){
               $(".community .check").addClass("h").html("请输入中文")
            }else{
                $(".community .check").html("");
                $(".summary-community").html(val);
                for(var i=0;i<community_name.length;i++){               //fuzzy matching
                    $("li.community-thinking-list").eq(i).html(community_name[i]);
                    if(community_name[i].indexOf(val)>-1){
                        $("li.community-thinking-list").eq(i).show();
                        $(".community-thinking").show();
                    }else{
                        $("li.community-thinking-list").eq(i).hide()
                    }
                   if(val==community_name[i]){
                     $(".community .check").removeClass("h").html("&#xe697;")
                   }
                    else{
                     $(".community .check").addClass("h").html("请确认小区名称")  
                   } 
                }    
            }                       
        })
        $("li.community-thinking-list").on("click",function(){
            name_list=$(this).html();
            $(".community-name").val(name_list);
            $(".community .check").removeClass("h").html("&#xe697;");
            $(".summary-community").html(name_list);
            $("ul.community-thinking").hide()
        })
        $(".community-name").on("blur",function(){
            $(".community .check").addClass("h").html("小区名称不为空")
        })
        
        //rigion check
//        option_val=$(".region-list option").val();
        $(".region-list").on("click",function(){
            list_val=$(".region-list").val();
            $(".summary-list").html(list_val);
            if(list_val=="请选择区属"){
                $(".region .check").addClass("h").html("请选择区属");
            }else{
                $(".region .check").html("")
            }
        })
        $(".region-plate").on("click",function(){
            plate_val=$(".region-plate").val();
            $(".summary-plate").html(plate_val);
            if(plate_val=="请选择板块"){
                $(".region .check").addClass("h").html("请选择板块");
            }else{
                $(".region .check").html("")
            }
        })
        $(".region-list").on("blur",function(){            
            if(list_val !=="请选择区属" && plate_val !=="请选择板块"){
                $(".region .check").removeClass("h").html("&#xe697;");}        
        })
        $(".region-plate").on("blur",function(){            
            if(list_val !=="请选择区属" && plate_val !=="请选择板块"){
                $(".region .check").removeClass("h").html("&#xe697;");}        
        })
       
        
        //regular expressions of number
        $(".size-list").bind("input propertychange",function(){
            summary_ind=($(this).index()-1)/2;
            $(".summary-size").eq(summary_ind).html($(this).val());
            console.log($(".summary-size").eq(summary_ind).val());
            if(!EP_size.test($(this).val())){
                $(".size .check").addClass("h").html("请输入数字")
            }else{
                $(".size .check").html("")
            }            
        })
        $(".size-list").on("blur",function(){
            count1=0;
            count2 ++;
            count3=0;
            for(var j=0;j<$(".size-list").length;j++){
                if($(".size-list").eq(j).val()==("")){
                count1++;                
                }else if(parseInt($(".size-list").eq(j).val())== 0){
                   count3 ++;
                }
            }
            if(count2>=4){
               if(count1>0){
                $(".size .check").addClass("h").html("数值不为空");
            }  else if(count1==0 && count3<4){
                $(".size .check").removeClass("h").html("&#xe697;");
            } 
            }
            if(count3==4){
                $(".size .check").addClass("h").html("请确认户型数值")
            }               
        })
        
        $(".renting input").on("click",function(){
           if($(this).attr("checked")=="checked"){
               renting_ind=($(this).index()-1)/2;
               $(this).siblings(".renting input").attr("checked",false);
               $(".summary-renting-style").html($(".renting-style").eq(renting_ind).html());
//               console.log($(".summary-renting-input").eq(0).html())
           }
            
        })
        
        $(".renting-br").on("click",function(){
            
            br_val=$(".renting-br").val();
            console.log(br_val);
            $(".summary-renting-select1").html(br_val);
            if(br_val=="选择卧室内容"){
                $(".renting .check").addClass("h").html("请选择卧室内容");
            }else{
                $(".renting .check").html("");
            }
        })
        $(".renting-limit").on("click",function(){
            limit_val=$(".renting-limit").val();
            $(".summary-renting-select2").html(limit_val);
            if(limit_val=="选择限制条件"){
                $(".renting .check").addClass("h").html("请选择限制条件");
            }else{
                $(".renting .check").html("")
            }
        })
        $(".renting-br").on("blur",function(){            
            if(br_val !=="选择卧室内容" && limit_val !=="选择限制条件"){
                $(".renting .check").removeClass("h").html("&#xe697;");}        
        })
        $(".renting-limit").on("blur",function(){            
            if(br_val !=="选择卧室内容" && limit_val !=="选择限制条件"){
                $(".renting .check").removeClass("h").html("&#xe697;");}        
        })
       
        
        
        //regular expressions of number in area 
        $(".area-input").bind("input propertychange",function(){
            $(".summary-area").html($(".area-input").val());
            if(!EP_size.test($(this).val())){
                $(".area .check").addClass("h").html("请输入数字")
            }else if($(this).val()==0){
                $(".area .check").addClass("h").html("数值不为0")
            }else{
                $(".area .check").removeClass("h").html("&#xe697;");
            }            
        })
        
        //regular expressions of number in rent
        $(".rent-input").bind("input propertychange",function(){
            $(".summary-rent").html($(".rent-input").val());
            if(!EP_size.test($(this).val())){
                $(".rent .check").addClass("h").html("请输入数字")
            }else if($(this).val()==0){
                $(".rent .check").addClass("h").html("数值不为0")
            }else{
                $(".rent .check").removeClass("h").html("&#xe697;");
            }            
        })
        
        
        $(".pay-list").on("click",function(){
           if($(this).attr("checked")=="checked"){
               
               pay_ind=($(this).index()-1)/2;
               console.log(pay_ind);
               $(this).siblings(".pay-list").attr("checked",false);
               $(".summary-pay").html($(".pay-item").eq(pay_ind).html());
//               console.log($(".summary-renting-input").eq(0).html())
           }
            
        })
        
        $(".phone-input").bind("input propertychange",function(){
            if($(this).val()==""){
               $(".phone .check").addClass("h").html("手机号不为空") 
            }else if(EP_phone.test($(this).val())){
               $(".phone .check").removeClass("h").html("&#xe697;");
               $(".summary-phone").html($(this).val())
            }else{
               $(".phone .check").addClass("h").html("请输入正确格式的手机号") 
            }
        })
        
        
        $(".upload-content").hide();
        $(".upload-button").on("click",function(){
            $(this).hide();
            $(".upload-content").show()
        })
        $(".upload-close").on("click",function(){
            $(".upload-content").hide();
            $(".upload-button").show()
        })
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    })
</script>