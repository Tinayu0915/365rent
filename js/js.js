$(function(){"use strict";var e,t=!1,n=[],i=/[\u4e00-\u9fa5]/,c="",l=null,a=null,h=/^(0|[1-9][0-9]*)$/,o=null,s=null,u=/^\+?[0-9][0-9]*.*$/,m=/^1[34578]\d{9}$/,r=0;$(".login li").eq(3).on("mouseover",function(){$(".code").show()}),$(".login li").eq(3).on("mouseleave",function(){$(".code").hide()}),$(".district").on("mouseover",function(){$(".district span").html("&#xe663;")}).on("mouseleave",function(){$(".district span").html("&#xe641;")}),$(".search,.button-icon").on("click",function(){0==t?($("span.button-icon").html("&#xe663;"),t=!0,$(".map").css({height:300}).slideDown(1e3),setTimeout(function(){var e=new BMap.Map("allmap"),t=new BMap.Point(118.786511,32.029147);e.centerAndZoom(t,15);var n=new BMap.Marker(t);e.addOverlay(n),n.setAnimation(BMAP_ANIMATION_BOUNCE)},1e3)):($(".map").slideUp(1e3),$("span.button-icon").html("&#xe641;"),t=!1)});var d="";$(".community-thinking").hide(),n=["城市花园","碧桂园欧洲城","碧桂园凤凰城","仙林悦城","恒大雅苑","恒大金碧天下","上怡新村","翠屏城","桥北新村","盛江花苑兰花园","永安花苑","香溢紫郡","保利中央公园","荣盛莉湖春晓","天润城第十二街区","丁家庄","冠城大通蓝郡"],$(".community-name").on("input change",function(){if(e=$(".community-name").val(),i.test(e)){$(".community .check").addClass("h").html("&#xe697;"),d="小区名称："+e;for(var t=0;t<n.length;t++)$(".community-thinking").append('<li class="community-thinking-list"></li>'),n[t].indexOf(e)>-1?($(".community-thinking").show(),$(".community-thinking-list").eq(t).html(n[t]).show().siblings(".community-thinking-list").hide()):$(".community-thinking-list").eq(t).hide()}else $(".community .check").removeClass("h").html("&#xe617;"),$(".community-thinking").hide(),d="";$(".community-thinking-list").on("click",function(){c=$(this).html(),$(".community-name").val(c),d="小区名称："+c,$(".community-thinking").hide()})});var k="";$(".region-list,.region-plate").on("input change",function(){l=$(".region-list").val(),a=$(".region-plate").val(),""==l||null==l||"请选择区属"==l||""==a||null==a||"请选择板块"==a?($(".region .check").removeClass("h").html("&#xe617;"),k=""):($(".region .check").addClass("h").html("&#xe697;"),k="区属板块："+l+" "+a,console.log(k))});var p=0,g=0,v=3,f=0,y="";$(".size-list").on("input change",function(){p=$(".size-list").eq(0).val(),g=$(".size-list").eq(1).val(),v=$(".size-list").eq(2).val(),f=$(".size-list").eq(3).val(),h.test(p)&&h.test(g)&&h.test(v)&&h.test(f)&&p+g+v+f+""!="0000"?($(".size .check").addClass("h").html("&#xe697;"),y="户型："+p+"室 "+g+"厅 "+v+"卫 "+f+"阳台"):($(".size .check").removeClass("h").html("&#xe617;"),y="")});var x=null,C=null,b="";$(".btn").on("click",function(){"checked"==$(this).attr("checked")&&($(this).siblings(".btn").attr("checked",!1),x=$(".btn1").attr("checked"),C=$(".btn2").attr("checked")),b=$(".renting .check").hasClass("h")?"checked"==x?"出租形式："+o+" "+s+" 整租":"出租形式："+o+" "+s+" 合租":""}),$(".renting-br,.renting-limit").on("input change",function(){o=$(".renting-br").val(),s=$(".renting-limit").val(),""==o||null==o||"选择卧室内容"==o||""==s||null==s||"选择限制条件"==s?$(".renting .check").removeClass("h").html("&#xe617;"):$(".renting .check").addClass("h").html("&#xe697;"),b=$(".renting .check").hasClass("h")?"checked"==x?"出租形式："+o+" "+s+" 整租":"出租形式："+o+" "+s+" 合租":""});var q=0,w="";$(".area-input").on("input change",function(){0!=(q=$(".area-input").val())&&""!=q&&u.test(q)?($(".area .check").addClass("h").html("&#xe697;"),w="面积："+q+"平方米"):($(".area .check").removeClass("h").html("&#xe617;"),w="")});var _=0,z="";$(".rent-input").on("input change",function(){0!=(_=$(".rent-input").val())&&""!=_&&u.test(_)?($(".rent .check").addClass("h").html("&#xe697;"),z="租金："+_+"元/月"):($(".rent .check").removeClass("h").html("&#xe617;"),z="")});var M=0,A="",B="",O="",N="",I="",P="";$(".p_list").on("click",function(){switch(M=$(".p_list:checked").length,B=$(".p_list").eq(0).attr("checked")?"月付":"",O=$(".p_list").eq(1).attr("checked")?"季付":"",N=$(".p_list").eq(2).attr("checked")?"半年付":"",I=$(".p_list").eq(3).attr("checked")?"年付":"",M){case 4:$(".pay-list").eq(4).attr("checked",!0),$(".p_list").attr("checked",!1),P="付款方式：",$(".pay .check").addClass("h").html("&#xe697;");break;case 0:P="",$(".pay .check").removeClass("h").html("&#xe617;");break;default:$(".pay-list").eq(4).attr("checked",!1),P="付款方式：",$(".pay .check").addClass("h").html("&#xe697;")}A=P+B+" "+O+" "+N+" "+I,console.log(A)}),$(".pay-list").eq(4).on("click",function(){$(".pay-list").eq(4).attr("checked")?(A="付款方式：月付 季付 半年付 年付",$(".pay .check").addClass("h").html("&#xe697;")):(A="",$(".pay .check").removeClass("h").html("&#xe617;")),console.log(A)});var T=null;$(".phone-input").on("input change",function(){T=$(".phone-input").val(),m.test(T)?$(".phone .check").addClass("h").html("&#xe697;"):$(".phone .check").removeClass("h").html("&#xe617;")});var U="";$(window).on("input click change",function(){U=d+" "+k+" "+y+" "+b+" "+w+" "+z+" "+A,$(".summary-content").text(U)}),$(".upload-content").hide(),$(".upload-button").on("click",function(){$(this).hide(),$(".upload-content").show()}),$(".upload-close").on("click",function(){$(".upload-content").hide(),$(".upload-button").show()}),$(".submit input").on("click",function(){r=0;for(var e=0;e<$(".check").length;e++)"rgb(107, 180, 58)"==$(".check").eq(e).css("color")&&r++;7==r?alert("提交成功"):alert("提交失败")})});
function Map(){$(".search").on("click",function(){if(0==click_status){$(".map-outline").slideDown();var e=new BMap.Map("allmap"),a=new BMap.Point(118.786,32.029);e.centerAndZoom(a,15);var t=new BMap.Marker(a);e.addOverlay(t),t.setAnimation(BMAP_ANIMATION_BOUNCE),e.enableScrollWheelZoom();var n={position:a,offset:new BMap.Size(-30,-10)},i=new BMap.Label("欣才学院",n);i.setStyle({color:"red",fontSize:"12px",height:"20px",lineHeight:"20px",fontFamily:"Microsoft Yahei"}),e.addOverlay(i),$("span.button-icon").html("&#xe663;"),click_status=!0}else $(".map-outline").slideUp(),$("span.button-icon").html("&#xe641;"),click_status=!1})}var click_status=!1;